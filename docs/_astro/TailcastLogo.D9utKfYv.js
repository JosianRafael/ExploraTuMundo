import{j as u}from"./jsx-runtime.7faW4zRM.js";import{r as t}from"./index.DhYZZe0J.js";import{u as I,f as k,M as O,a as T,P as U,L as b}from"./motion.DIEilGlj.js";function F(){const r=t.useRef(!1);return I(()=>(r.current=!0,()=>{r.current=!1}),[]),r}function B(){const r=F(),[o,e]=t.useState(0),s=t.useCallback(()=>{r.current&&e(o+1)},[o]);return[t.useCallback(()=>k.postRender(s),[s]),o]}class D extends t.Component{getSnapshotBeforeUpdate(o){const e=this.props.childRef.current;if(e&&o.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=e.offsetHeight||0,s.width=e.offsetWidth||0,s.top=e.offsetTop,s.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function A({children:r,isPresent:o}){const e=t.useId(),s=t.useRef(null),m=t.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=t.useContext(O);return t.useInsertionEffect(()=>{const{width:a,height:f,top:x,left:p}=m.current;if(o||!s.current||!a||!f)return;s.current.dataset.motionPopId=e;const n=document.createElement("style");return d&&(n.nonce=d),document.head.appendChild(n),n.sheet&&n.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${f}px !important;
            top: ${x}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(n)}},[o]),u.jsx(D,{isPresent:o,childRef:s,sizeRef:m,children:t.cloneElement(r,{ref:s})})}const v=({children:r,initial:o,isPresent:e,onExitComplete:s,custom:m,presenceAffectsLayout:d,mode:a})=>{const f=T(S),x=t.useId(),p=t.useMemo(()=>({id:x,initial:o,isPresent:e,custom:m,onExitComplete:n=>{f.set(n,!0);for(const c of f.values())if(!c)return;s&&s()},register:n=>(f.set(n,!1),()=>f.delete(n))}),d?[Math.random()]:[e]);return t.useMemo(()=>{f.forEach((n,c)=>f.set(c,!1))},[e]),t.useEffect(()=>{!e&&!f.size&&s&&s()},[e]),a==="popLayout"&&(r=u.jsx(A,{isPresent:e,children:r})),u.jsx(U.Provider,{value:p,children:r})};function S(){return new Map}function Z(r){return t.useEffect(()=>()=>r(),[])}const h=r=>r.key||"";function G(r,o){r.forEach(e=>{const s=h(e);o.set(s,e)})}function H(r){const o=[];return t.Children.forEach(r,e=>{t.isValidElement(e)&&o.push(e)}),o}const _=({children:r,custom:o,initial:e=!0,onExitComplete:s,exitBeforeEnter:m,presenceAffectsLayout:d=!0,mode:a="sync"})=>{const f=t.useContext(b).forceRender||B()[0],x=F(),p=H(r);let n=p;const c=t.useRef(new Map).current,E=t.useRef(n),C=t.useRef(new Map).current,M=t.useRef(!0);if(I(()=>{M.current=!1,G(p,C),E.current=n}),Z(()=>{M.current=!0,C.clear(),c.clear()}),M.current)return u.jsx(u.Fragment,{children:n.map(i=>u.jsx(v,{isPresent:!0,initial:e?void 0:!1,presenceAffectsLayout:d,mode:a,children:i},h(i)))});n=[...n];const w=E.current.map(h),j=p.map(h),K=w.length;for(let i=0;i<K;i++){const l=w[i];j.indexOf(l)===-1&&!c.has(l)&&c.set(l,void 0)}return a==="wait"&&c.size&&(n=[]),c.forEach((i,l)=>{if(j.indexOf(l)!==-1)return;const y=C.get(l);if(!y)return;const L=w.indexOf(l);let g=i;if(!g){const $=()=>{c.delete(l);const P=Array.from(C.keys()).filter(R=>!j.includes(R));if(P.forEach(R=>C.delete(R)),E.current=p.filter(R=>{const z=h(R);return z===l||P.includes(z)}),!c.size){if(x.current===!1)return;f(),s&&s()}};g=u.jsx(v,{isPresent:!1,onExitComplete:$,custom:o,presenceAffectsLayout:d,mode:a,children:y},h(y)),c.set(l,g)}n.splice(L,0,g)}),n=n.map(i=>{const l=i.key;return c.has(l)?i:u.jsx(v,{isPresent:!0,presenceAffectsLayout:d,mode:a,children:i},h(i))}),u.jsx(u.Fragment,{children:c.size?n:n.map(i=>t.cloneElement(i))})},q=()=>u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"fill-primaryColor",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#4A90E2"}),u.jsx("path",{d:"M7 12 C7 9, 9 8, 10 7 C11 5, 13 5, 14 6 C15 7, 16 8, 15 10 C14 12, 12 13, 11 14 C9 15, 8 13, 7 12 Z",fill:"#7ED321"}),u.jsx("path",{d:"M16 17 C16 16, 17 15, 18 14 C19 13, 20 14, 19 15 C18 16, 17 17, 16 17 Z",fill:"#7ED321"})]});export{_ as A,q as T};
